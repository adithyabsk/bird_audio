schema: '2.0'
stages:
  build_meta:
    cmd: python pracds_final/data/build_meta.py data/raw/metadata.csv
    deps:
    - path: pracds_final/data/build_meta.py
      md5: f126eceba611effbb1f1894383137540
      size: 3658
    params:
      params.yaml:
        build.meta.queries:
        - cnt:"United States"
    outs:
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
  build_filter:
    cmd: python pracds_final/data/build_filter.py data/raw/metadata.csv data/raw/filter_ids.json
    deps:
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_filter.py
      md5: 5005989adca8f03e1fc6ed6cba2d3e53
      size: 3221
    params:
      params.yaml:
        build.filter.total_seconds: 20
        build.filter.unique_birds: 220
    outs:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
  build_sono:
    cmd: python pracds_final/data/build_sono.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/sonograms
    deps:
    - path: data/raw/filter_ids.json
      md5: 69b6dda6d085d56c628d2ec42852ed41
      size: 99909
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_sono.py
      md5: c81b779be9d2a354c432fba2af4b67ac
      size: 3376
    outs:
    - path: data/raw/sonograms
      md5: ea9e4ab898180fcad6830f0700801bec.dir
      size: 653587009
      nfiles: 10159
  build_audio:
    cmd: python pracds_final/data/build_audio.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/recordings
    deps:
    - path: data/raw/filter_ids.json
      md5: 69b6dda6d085d56c628d2ec42852ed41
      size: 99909
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_audio.py
      md5: 7478f119b39bdb5a647ab9cf4f5d7aae
      size: 3424
    outs:
    - path: data/raw/recordings
      md5: f8748801949169688e8f3e8a921b8fec.dir
      size: 2439122825
      nfiles: 10159
  build_song_vs_call:
    cmd: python pracds_final/data/build_song_vs_call.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/song_vs_call.json
    deps:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_song_vs_call.py
      md5: 7b8ea53ba1ff17fa2c40c982a1e54f22
      size: 2029
    outs:
    - path: data/raw/song_vs_call.json
      md5: 0efc87ef8b3689eb28f4bc9a093e7f30
      size: 54344
  proc_svc_split:
    cmd: python pracds_final/features/proc_svc_split.py data/raw/song_vs_call.json
      data/processed/svc_split.json
    deps:
    - path: data/raw/song_vs_call.json
      md5: 0efc87ef8b3689eb28f4bc9a093e7f30
      size: 54344
    - path: pracds_final/features/proc_svc_split.py
      md5: 234f24fb945e6a4f9af07fc3d1e1e964
      size: 1451
    outs:
    - path: data/processed/svc_split.json
      md5: e19fc78e75e65a2884b721f66b7bfb9c
      size: 65417
