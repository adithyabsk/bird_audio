schema: '2.0'
stages:
  build_meta:
    cmd: python pracds_final/data/build_meta.py data/raw/metadata.csv
    deps:
    - path: pracds_final/data/build_meta.py
      md5: f126eceba611effbb1f1894383137540
      size: 3658
    params:
      params.yaml:
        build.meta.queries:
        - cnt:"United States"
    outs:
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
  build_filter:
    cmd: python pracds_final/data/build_filter.py data/raw/metadata.csv data/raw/filter_ids.json
    deps:
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_filter.py
      md5: 256c2fe0ccef7b48fc2be7963d45d722
      size: 3217
    params:
      params.yaml:
        build.filter.total_seconds: 20
        build.filter.unique_birds: 220
    outs:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
  build_sono:
    cmd: python pracds_final/data/build_sono.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/sonograms
    deps:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_sono.py
      md5: c81b779be9d2a354c432fba2af4b67ac
      size: 3376
    outs:
    - path: data/raw/sonograms
      md5: d6619d61069dfa8b0ba77b0d412b890f.dir
      size: 463201452
      nfiles: 7052
  build_audio:
    cmd: python pracds_final/data/build_audio.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/recordings
    deps:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_audio.py
      md5: 7478f119b39bdb5a647ab9cf4f5d7aae
      size: 3424
    outs:
    - path: data/raw/recordings
      md5: 1f8f5d27e1043123ef273a09e1cb04f7.dir
      size: 1703058026
      nfiles: 7052
  build_song_vs_call:
    cmd: python pracds_final/data/build_song_vs_call.py data/raw/metadata.csv data/raw/filter_ids.json
      data/raw/song_vs_call.json
    deps:
    - path: data/raw/filter_ids.json
      md5: f7f1500016e30bb420f48019bd00b1da
      size: 69229
    - path: data/raw/metadata.csv
      md5: 0f787250afb3f905bc8406d5affa15ab
      size: 47794273
    - path: pracds_final/data/build_song_vs_call.py
      md5: b6edd9875c0db5a5882d2c47651d7821
      size: 2060
    outs:
    - path: data/raw/song_vs_call.json
      md5: f81bca25287945a8f7a1d6b689b343f5
      size: 56928
  proc_svc_split:
    cmd: python pracds_final/features/proc_svc_split.py data/raw/song_vs_call.json
      data/processed/svc_split.json
    deps:
    - path: data/raw/song_vs_call.json
      md5: f81bca25287945a8f7a1d6b689b343f5
      size: 56928
    - path: pracds_final/features/proc_svc_split.py
      md5: d155dc3d8b1e01cd94767135b0aacca6
      size: 1510
    outs:
    - path: data/processed/svc_split.json
      md5: ef20d3a7f64fd9802481b4d577f3932b
      size: 68569
